<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2016-12-02 Fri 15:22 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="b" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline29">1. lists of primary formal constituents</a>
<ul>
<li><a href="#orgheadline12">1.1. create rhythms for event list maps</a>
<ul>
<li><a href="#orgheadline1">1.1.1. all 'selections' of 4 things from 2 as durations</a></li>
<li><a href="#orgheadline2">1.1.2. creat a midi event map a la Ctford</a></li>
<li><a href="#orgheadline3">1.1.3. <code>where</code> maps update-in over its argument, for a given key and update function</a></li>
<li><a href="#orgheadline4">1.1.4. bpm returns a function that:</a></li>
<li><a href="#orgheadline5">1.1.5. how does <code>partial</code> work?</a></li>
<li><a href="#orgheadline6">1.1.6. define <code>from</code> as a partial</a></li>
<li><a href="#orgheadline7">1.1.7. create event-list map with <code>where</code> and event-list template</a></li>
<li><a href="#orgheadline8">1.1.8. thread last is the same as</a></li>
<li><a href="#orgheadline9">1.1.9. how does System/millisecond (which <code>now</code> wraps) work?</a></li>
<li><a href="#orgheadline10">1.1.10. version of ctford play function that uses sampled-piano</a></li>
<li><a href="#orgheadline11">1.1.11. play the event-list</a></li>
</ul>
</li>
<li><a href="#orgheadline28">1.2. create pitches for the event list map system</a>
<ul>
<li><a href="#orgheadline13">1.2.1. start with some kind of structure</a></li>
<li><a href="#orgheadline21">1.2.2. concatenating patterns</a></li>
<li><a href="#orgheadline25">1.2.3. pitch and scalar collection</a></li>
<li><a href="#orgheadline26">1.2.4. set theoretical constructs</a></li>
<li><a href="#orgheadline27">1.2.5. reflecting</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgheadline44">2. using probability to control output</a>
<ul>
<li><a href="#orgheadline30">2.1. importing into overtone and clojure from .contrib</a></li>
<li><a href="#orgheadline42">2.2. in overtone</a>
<ul>
<li><a href="#orgheadline40">2.2.1. algo.chance</a></li>
<li><a href="#orgheadline41">2.2.2. overtone.algo.fn</a></li>
</ul>
</li>
<li><a href="#orgheadline43">2.3. from other clojure libraries</a></li>
</ul>
</li>
<li><a href="#orgheadline46">3. divisions and subdivisions</a>
<ul>
<li><a href="#orgheadline45">3.1. messing around with numbers</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgheadline29" class="outline-2">
<h2 id="orgheadline29"><span class="section-number-2">1</span> lists of primary formal constituents</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline12" class="outline-3">
<h3 id="orgheadline12"><span class="section-number-3">1.1</span> create rhythms for event list maps</h3>
<div class="outline-text-3" id="text-1-1">
</div><div id="outline-container-orgheadline1" class="outline-4">
<h4 id="orgheadline1"><span class="section-number-4">1.1.1</span> all 'selections' of 4 things from 2 as durations</h4>
<div class="outline-text-4" id="text-1-1-1">
<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #5F7F5F;">;;</span><span style="color: #7F9F7F;">(require '[clojure.math.combinatorics </span><span style="color: #BFEBBF;">:as</span><span style="color: #7F9F7F;"> cmb])</span>

(<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections [1 2] 4)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-4">
<h4 id="orgheadline2"><span class="section-number-4">1.1.2</span> creat a midi event map a la Ctford</h4>
<div class="outline-text-4" id="text-1-1-2">
<p>
Examine this kind of template for creating durations and pitches.
</p>

<p>
Start with lists of duration-lists, and then convert them to on-times.
</p>
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">def</span> <span style="color: #DFAF8F;">event-list1</span>
  (<span style="color: #F0DFAF; font-weight: bold;">let</span> [durations (<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections [1 2] 4)
        times (reductions + 0 (flatten (<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections [1 2] 4)))
        pitches (repeat (count times) 0)]
    (map (<span style="color: #F0DFAF; font-weight: bold;">fn</span> [t p] {<span style="color: #BFEBBF;">:time</span> t <span style="color: #BFEBBF;">:pitch</span> p}) times pitches)))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(count event-list1)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">event-list1
</pre>
</div>

<p>
#+COMMENT long list of ontimes
</p>

<div class="org-src-container">

<pre class="src src-clojure">(reductions + 0 (repeat 3 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-4">
<h4 id="orgheadline3"><span class="section-number-4">1.1.3</span> <code>where</code> maps update-in over its argument, for a given key and update function</h4>
<div class="outline-text-4" id="text-1-1-3">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">where</span> [k f ev-list]
 (map #(update-in <span style="color: #DFAF8F;">%</span> [k] f) ev-list))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">def</span> <span style="color: #DFAF8F;">m</span> {<span style="color: #BFEBBF;">:time</span> 0 <span style="color: #BFEBBF;">:pitch</span> 0})
(update-in m [<span style="color: #BFEBBF;">:time</span>] inc)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-4">
<h4 id="orgheadline4"><span class="section-number-4">1.1.4</span> bpm returns a function that:</h4>
<div class="outline-text-4" id="text-1-1-4">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">bpm</span> [beats] (<span style="color: #F0DFAF; font-weight: bold;">fn</span> [beat] (/ (* beat 60 1000) beats)))
</pre>
</div>

<p>
Takes a given <code>now</code> timestamp?
</p>

<div class="org-src-container">

<pre class="src src-clojure">((<span style="color: #F0DFAF; font-weight: bold;">fn</span> [beat] (/ (* beat 60 1000) 90)) (now))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline5" class="outline-4">
<h4 id="orgheadline5"><span class="section-number-4">1.1.5</span> how does <code>partial</code> work?</h4>
<div class="outline-text-4" id="text-1-1-5">
<div class="org-src-container">

<pre class="src src-clojure">(partial + 10)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">((partial + 10) 10)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline6" class="outline-4">
<h4 id="orgheadline6"><span class="section-number-4">1.1.6</span> define <code>from</code> as a partial</h4>
<div class="outline-text-4" id="text-1-1-6">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">from</span> [n] (partial + n))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline7" class="outline-4">
<h4 id="orgheadline7"><span class="section-number-4">1.1.7</span> create event-list map with <code>where</code> and event-list template</h4>
<div class="outline-text-4" id="text-1-1-7">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">-&gt;&gt;</span> event-list1
     (where <span style="color: #BFEBBF;">:time</span> (comp (from (now)) (bpm 90))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline8" class="outline-4">
<h4 id="orgheadline8"><span class="section-number-4">1.1.8</span> thread last is the same as</h4>
<div class="outline-text-4" id="text-1-1-8">
<p>
UNDERSTANDING THREAD LAST!! Most simply, it says, use this first
argument as the last argument for next function
</p>

<div class="org-src-container">

<pre class="src src-clojure">(where <span style="color: #BFEBBF;">:time</span> (comp (from (now)) (bpm 90)) event-list)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline9" class="outline-4">
<h4 id="orgheadline9"><span class="section-number-4">1.1.9</span> how does System/millisecond (which <code>now</code> wraps) work?</h4>
<div class="outline-text-4" id="text-1-1-9">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">let</span> [den (now)
      dis (+ 1000 den)]
  (<span style="color: #F0DFAF; font-weight: bold;">do</span> (prn den)
      (prn dis)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline10" class="outline-4">
<h4 id="orgheadline10"><span class="section-number-4">1.1.10</span> version of ctford play function that uses sampled-piano</h4>
<div class="outline-text-4" id="text-1-1-10">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">my-ctford-play</span> [notes] (<span style="color: #F0DFAF; font-weight: bold;">doseq</span> [{ms <span style="color: #BFEBBF;">:time</span> midi <span style="color: #BFEBBF;">:pitch</span>} notes] (at ms (sampled-piano (+ midi 60)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline11" class="outline-4">
<h4 id="orgheadline11"><span class="section-number-4">1.1.11</span> play the event-list</h4>
<div class="outline-text-4" id="text-1-1-11">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">-&gt;&gt;</span> event-list1 (where <span style="color: #BFEBBF;">:time</span> (comp (from (now)) (bpm 420))) my-ctford-play)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline28" class="outline-3">
<h3 id="orgheadline28"><span class="section-number-3">1.2</span> create pitches for the event list map system</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-orgheadline13" class="outline-4">
<h4 id="orgheadline13"><span class="section-number-4">1.2.1</span> start with some kind of structure</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
There are a lot of options, depending on what kind of pitch structures
you want to work with, and how you wish to represent them.
</p>

<p>
Some of the simplest things to do are just to generate lists of
possible permutations, in this case using the combinatorics library,
and specificially the selections function, because it deals well with
repetition, i.e. P and C "with replacement"
</p>
</div>
</div>
<div id="outline-container-orgheadline21" class="outline-4">
<h4 id="orgheadline21"><span class="section-number-4">1.2.2</span> concatenating patterns</h4>
<div class="outline-text-4" id="text-1-2-2">
</div><ol class="org-ol"><li><a id="orgheadline20"></a>documenting the combinatorics library<br  /><div class="outline-text-5" id="text-1-2-2-1">
<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>assert-with-message &lt;m&gt;     <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>cartesian-product &lt;f&gt;       <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>combinations &lt;f&gt;
<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>count-combinations &lt;f&gt;      <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>count-permutations &lt;f&gt;      <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>count-subsets &lt;f&gt;
<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>drop-permutations &lt;f&gt;       <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>nth-combination &lt;f&gt;         <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>nth-permutation &lt;f&gt;
<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>nth-subset &lt;f&gt;      <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>partitions &lt;f&gt;      <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>permutation-index &lt;f&gt;
<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>permutations &lt;f&gt;    <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections &lt;f&gt;      <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>subsets &lt;f&gt;
</pre>
</div>
</div>

<ol class="org-ol"><li><a id="orgheadline14"></a>combinations<br  /><div class="outline-text-6" id="text-1-2-2-1-1">
<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #7CB8BB;">post_tonal_overtone.core</span>&gt; (source <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>combinations)
(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">combinations</span>
  <span style="color: #9FC59F;">"All the unique ways of taking t different elements from items"</span>
  [items t]      
  (<span style="color: #F0DFAF; font-weight: bold;">let</span> [v-items (vec (reverse items))]
    (<span style="color: #F0DFAF; font-weight: bold;">if</span> (zero? t) (list ())
      (<span style="color: #F0DFAF; font-weight: bold;">let</span> [cnt (count items)]
        (<span style="color: #F0DFAF; font-weight: bold;">cond</span> (&gt; t cnt) <span style="color: #BFEBBF;">nil</span>
              (= t 1) (<span style="color: #F0DFAF; font-weight: bold;">for</span> [item (distinct items)] (list item))
              (all-different? items) (<span style="color: #F0DFAF; font-weight: bold;">if</span> (= t cnt) 
                                        (list (seq items))
                                        (map #(map v-items <span style="color: #DFAF8F;">%</span>) (index-combinations t cnt))),
              <span style="color: #BFEBBF;">:else</span> (multi-comb items t))))))
</pre>
</div>
</div></li>

<li><a id="orgheadline15"></a>permutations<br  /><div class="outline-text-6" id="text-1-2-2-1-2">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">permutations</span>
  <span style="color: #9FC59F;">"All the distinct permutations of items, lexicographic by index </span>
<span style="color: #9FC59F;">(special handling for duplicate items)."</span>
  [items]
  (<span style="color: #F0DFAF; font-weight: bold;">cond</span>
    (sorted-numbers? items) (lex-permutations items),

    (all-different? items)
    (<span style="color: #F0DFAF; font-weight: bold;">let</span> [v (vec items)]
      (map #(map v <span style="color: #DFAF8F;">%</span>) (lex-permutations (range (count v)))))

    <span style="color: #BFEBBF;">:else</span>
    (multi-perm items)))
</pre>
</div>
</div></li>

<li><a id="orgheadline16"></a>subsets<br  /><div class="outline-text-6" id="text-1-2-2-1-3">
<div class="org-src-container">

<pre class="src src-clojure"><span style="color: #7CB8BB;">post_tonal_overtone.core</span>&gt; (source <span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>subsets)
(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">subsets</span>
  <span style="color: #9FC59F;">"All the subsets of items"</span>
  [items]
  (mapcat (<span style="color: #F0DFAF; font-weight: bold;">fn</span> [n] (combinations items n))
          (unchunk (range (inc (count items))))))
</pre>
</div>
</div></li>

<li><a id="orgheadline17"></a>partitions<br  /><div class="outline-text-6" id="text-1-2-2-1-4">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">partitions</span>
  <span style="color: #9FC59F;">"All the lexicographic distinct partitions of items.</span>
<span style="color: #9FC59F;">    Optionally pass in </span><span style="color: #BFEBBF;">:min</span><span style="color: #9FC59F;"> and/or </span><span style="color: #BFEBBF;">:max</span><span style="color: #9FC59F;"> to specify inclusive bounds on the number of parts the items can be split into."</span>
  [items &amp; args]
  (<span style="color: #F0DFAF; font-weight: bold;">cond</span>
    (= (count items) 0) (apply partitions-H items args)
    (all-different? items) (apply partitions-H items args)
    <span style="color: #BFEBBF;">:else</span> (apply partitions-M items args)))
</pre>
</div>
</div></li>

<li><a id="orgheadline18"></a>cartesian-product<br  /><div class="outline-text-6" id="text-1-2-2-1-5">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">cartesian-product</span>
  <span style="color: #9FC59F;">"All the ways to take one item from each sequence"</span>
  [&amp; seqs]
  (<span style="color: #F0DFAF; font-weight: bold;">let</span> [v-original-seqs (vec seqs)
        step
        (<span style="color: #F0DFAF; font-weight: bold;">fn</span> <span style="color: #93E0E3;">step</span> [v-seqs]
          (<span style="color: #F0DFAF; font-weight: bold;">let</span> [increment
                (<span style="color: #F0DFAF; font-weight: bold;">fn</span> [v-seqs]
                  (<span style="color: #F0DFAF; font-weight: bold;">loop</span> [i (dec (count v-seqs)), v-seqs v-seqs]
                    (<span style="color: #F0DFAF; font-weight: bold;">if</span> (= i -1) <span style="color: #BFEBBF;">nil</span>
                      (<span style="color: #F0DFAF; font-weight: bold;">if-let</span> [rst (next (v-seqs i))]
                        (assoc v-seqs i rst)
                        (<span style="color: #F0DFAF; font-weight: bold;">recur</span> (dec i) (assoc v-seqs i (v-original-seqs i)))))))]
            (<span style="color: #F0DFAF; font-weight: bold;">when</span> v-seqs
              (cons (map first v-seqs)
                    (lazy-seq (step (increment v-seqs)))))))]
    (<span style="color: #F0DFAF; font-weight: bold;">when</span> (every? seq seqs)
      (lazy-seq (step v-original-seqs)))))
</pre>
</div>
</div></li>

<li><a id="orgheadline19"></a>permutation indexing<br  /><div class="outline-text-6" id="text-1-2-2-1-6">
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">defn</span> <span style="color: #93E0E3;">permutation-index</span>
  <span style="color: #9FC59F;">"Input must be a sortable collection of items.  Returns the n such that</span>
<span style="color: #9FC59F;">    (nth-permutation (sort items) n) is items."</span>
  [items]
  (<span style="color: #F0DFAF; font-weight: bold;">if</span> (all-different? items)
    (permutation-index-distinct items)
    (permutation-index-duplicates items)))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>nth-permutation '(0 1 2 3) 4)
</pre>
</div>


<div class="org-src-container">

<pre class="src src-clojure"></pre>
</div>
</div></li></ol></li></ol>
</div>
<div id="outline-container-orgheadline25" class="outline-4">
<h4 id="orgheadline25"><span class="section-number-4">1.2.3</span> pitch and scalar collection</h4>
<div class="outline-text-4" id="text-1-2-3">
</div><ol class="org-ol"><li><a id="orgheadline22"></a>diatonic<br  /><div class="outline-text-5" id="text-1-2-3-1">
<p>
In terms of scale degrees using arabic numerals 1 through 7, which
aligns most nicely with the diatonic scale
</p>
<div class="org-src-container">

<pre class="src src-clojure">(count (<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections (map inc (range 7)) 3))
</pre>
</div>
</div></li>
<li><a id="orgheadline23"></a>12-note chromatic scale<br  /><div class="outline-text-5" id="text-1-2-3-2">
<div class="org-src-container">

<pre class="src src-clojure">(count (<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections (range 12) 3))
</pre>
</div>
</div></li>
<li><a id="orgheadline24"></a>roman numerals as provided by overtone<br  /><div class="outline-text-5" id="text-1-2-3-3">
<div class="org-src-container">

<pre class="src src-clojure">(count (<span style="color: #7CB8BB;">cmb</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>selections [<span style="color: #BFEBBF;">:i</span> <span style="color: #BFEBBF;">:ii</span> <span style="color: #BFEBBF;">:iii</span> <span style="color: #BFEBBF;">:iv</span> <span style="color: #BFEBBF;">:v</span> <span style="color: #BFEBBF;">:vi</span> <span style="color: #BFEBBF;">:vii</span>] 3))
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
<td class="org-left">:vii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:i</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:ii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:iii</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:iv</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:v</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:vi</td>
</tr>

<tr>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
<td class="org-left">:vii</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">def</span> <span style="color: #DFAF8F;">scale-degrees</span> [<span style="color: #BFEBBF;">:i</span> <span style="color: #BFEBBF;">:ii</span> <span style="color: #BFEBBF;">:iii</span> <span style="color: #BFEBBF;">:iv</span> <span style="color: #BFEBBF;">:v</span> <span style="color: #BFEBBF;">:vi</span> <span style="color: #BFEBBF;">:vii</span>])
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(degrees-&gt;pitches scale-degrees <span style="color: #BFEBBF;">:dorian</span> <span style="color: #BFEBBF;">:E3</span>)
</pre>
</div>
<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">def</span> <span style="color: #DFAF8F;">actual-melody</span> [<span style="color: #BFEBBF;">:vi</span> <span style="color: #BFEBBF;">:vii</span> <span style="color: #BFEBBF;">:i+</span> <span style="color: #BFEBBF;">:_</span> <span style="color: #BFEBBF;">:vii</span> <span style="color: #BFEBBF;">:_</span> <span style="color: #BFEBBF;">:i+</span> <span style="color: #BFEBBF;">:vii</span> <span style="color: #BFEBBF;">:vi</span> <span style="color: #BFEBBF;">:_</span> <span style="color: #BFEBBF;">:vii</span> <span style="color: #BFEBBF;">:_</span>])
</pre>
</div>
<div class="org-src-container">

<pre class="src src-clojure">(degrees-&gt;pitches actual-melody <span style="color: #BFEBBF;">:dorian</span> <span style="color: #BFEBBF;">:E3</span>)
</pre>
</div>


<div class="org-src-container">

<pre class="src src-clojure">(degrees-&gt;pitches [<span style="color: #BFEBBF;">:i</span> <span style="color: #BFEBBF;">:i+</span> <span style="color: #BFEBBF;">:i-</span> <span style="color: #BFEBBF;">:ii</span>]  <span style="color: #BFEBBF;">:phrygian</span> <span style="color: #BFEBBF;">:C3</span>)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">def</span> <span style="color: #DFAF8F;">do-re-mi</span>  [<span style="color: #BFEBBF;">:i</span> <span style="color: #BFEBBF;">:ii</span> <span style="color: #BFEBBF;">:iii</span>])
(degrees-&gt;pitches do-re-mi  <span style="color: #BFEBBF;">:ionian</span> <span style="color: #BFEBBF;">:C3</span>)
</pre>
</div>
</div></li></ol>
</div>
<div id="outline-container-orgheadline26" class="outline-4">
<h4 id="orgheadline26"><span class="section-number-4">1.2.4</span> set theoretical constructs</h4>
<div class="outline-text-4" id="text-1-2-4">
<div class="org-src-container">

<pre class="src src-clojure">(rand-nth <span style="color: #7CB8BB;">set-class</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>tetrachords)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline27" class="outline-4">
<h4 id="orgheadline27"><span class="section-number-4">1.2.5</span> reflecting</h4>
<div class="outline-text-4" id="text-1-2-5">
<p>
Thinking in terms of giant lists of numbers, however, may not seem
particularly efficient or natural, depending on how one's musical
brain was trained. The problem of representation in music is about as
hard as it gets while still lending itself to lots of possible
approaches.
</p>

<p>
Converting back and forth from conventional musical notation to some
form that is more like the kind of data computer languages are written
to manipulate can be arduous.
</p>

<p>
However, being able to turn manipulations of numbers into things we
can hear is, for this musician, about as fun as math can get. And it's
easy enough to get caught up in the process, and in doing so,
indirectly turn it into an exercise in learning data transformation in
a language like Clojure.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline44" class="outline-2">
<h2 id="orgheadline44"><span class="section-number-2">2</span> using probability to control output</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-orgheadline30" class="outline-3">
<h3 id="orgheadline30"><span class="section-number-3">2.1</span> importing into overtone and clojure from .contrib</h3>
<div class="outline-text-3" id="text-2-1">
<p>
I have included in my project all the code that I took still extant
from the .contrib library as I could find it and just imported it in
wholesale as a directory in my src folder.
</p>

<p>
Thus I am able to do the following (getting pathnames just right is
not easy).
</p>

<div class="org-src-container">

<pre class="src src-clojure">(require '[<span style="color: #7CB8BB;">post_tonal_overtone.probability_functions.finite-distributions</span> <span style="color: #BFEBBF;">:as</span> prb])
</pre>
</div>
</div>
</div>

<div id="outline-container-orgheadline42" class="outline-3">
<h3 id="orgheadline42"><span class="section-number-3">2.2</span> in overtone</h3>
<div class="outline-text-3" id="text-2-2">
<p>
There are several namespaced functions in the overtone.algo code that
are relevant here.
</p>
</div>
<div id="outline-container-orgheadline40" class="outline-4">
<h4 id="orgheadline40"><span class="section-number-4">2.2.1</span> algo.chance</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
This declaration is not used here, but could be useful when you want
to remember where you are getting your functions from
</p>
<div class="org-src-container">

<pre class="src src-clojure">(require '[<span style="color: #7CB8BB;">overtone.algo.chance</span> <span style="color: #BFEBBF;">:as</span> ochance])
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(dir <span style="color: #7CB8BB;">overtone.algo.chance</span>)
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">choose</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">choose-n</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">chosen-from</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">only</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">ranged-rand</span>
<span style="color: #5F7F5F;">;; </span><span style="color: #7F9F7F;">weighted-choose</span>
</pre>
</div>
</div>

<ol class="org-ol"><li><a id="orgheadline31"></a>choose<br  /><div class="outline-text-5" id="text-2-2-1-1">
<div class="org-src-container">

<pre class="src src-clojure">(source choose)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(choose [[0 1 2] [0 1 3] [0 1 4]])
</pre>
</div>
</div></li>

<li><a id="orgheadline32"></a>choose-n<br  /><div class="outline-text-5" id="text-2-2-1-2">
<div class="org-src-container">

<pre class="src src-clojure">(source choose-n)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(choose-n 2 [[0 1 2] [0 1 3] [0 1 4] [0 1 5]])
</pre>
</div>
</div></li>

<li><a id="orgheadline33"></a>chosen-from (note, infinite lazy-seq!)<br  /><div class="outline-text-5" id="text-2-2-1-3">
<div class="org-src-container">

<pre class="src src-clojure">(source chosen-from)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(take 10 (chosen-from [0 2 4 5 7 8]))
</pre>
</div>
</div></li>

<li><a id="orgheadline34"></a>only<br  /><div class="outline-text-5" id="text-2-2-1-4">
<div class="org-src-container">

<pre class="src src-clojure">(source only)
</pre>
</div>

<p>
uh,
</p>

<div class="org-src-container">

<pre class="src src-clojure">(only [0 2 4 5 7 9 11 12 11 9 7 5 4 2 0] [0 4 7])
</pre>
</div>

<p>
I don't know.
</p>
<div class="org-src-container">

<pre class="src src-clojure">(only [0 2 4 5 7 9 11 12 11 9 7 5 4 2 0] [0 7])
</pre>
</div>

<p>
AHHHH, uses indices!
</p>
<div class="org-src-container">

<pre class="src src-clojure">(only [0 2 4 5 7 9 11 12 11 9 7 5 4 2 0] [0 1])
</pre>
</div>
</div></li>

<li><a id="orgheadline35"></a>ranged-rand<br  /><div class="outline-text-5" id="text-2-2-1-5">
<div class="org-src-container">

<pre class="src src-clojure">(source ranged-rand)
</pre>
</div>


<div class="org-src-container">

<pre class="src src-clojure">(ranged-rand 1 5)
</pre>
</div>
</div></li>

<li><a id="orgheadline36"></a>scale-range<br  /><div class="outline-text-5" id="text-2-2-1-6">
<div class="org-src-container">

<pre class="src src-clojure">(source scale-range)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #7CB8BB;">overtone.algo.scaling</span><span style="color: #DCDCCC; background-color: #3F3F3F;">/</span>scale-range 13 1 100 0 1)
</pre>
</div>
</div></li>

<li><a id="orgheadline39"></a>weighted-choose<br  /><ol class="org-ol"><li><a id="orgheadline37"></a>code<br  /><div class="outline-text-6" id="text-2-2-1-7-1">
<div class="org-src-container">

<pre class="src src-clojure">(source weighted-choose)
</pre>
</div>

<p>
#+END<sub>SRC</sub>
</p>
</div></li>

<li><a id="orgheadline38"></a>examples<br  /><div class="outline-text-6" id="text-2-2-1-7-2">
<div class="org-src-container">

<pre class="src src-clojure">(weighted-choose [1 2 3 4] [0.5 0.3 0.125 0.075])
</pre>
</div>
<div class="org-src-container">

<pre class="src src-clojure">(weighted-choose {1 0.5, 2 0.3, 3 0.125, 4 0.075})
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(take 20 (repeatedly #(weighted-choose {1 0.5, 2 0.3, 3 0.125, 4 0.075})))
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(repeatedly 10 #(<span style="color: #F0DFAF; font-weight: bold;">let</span> [e1 (weighted-choose [1 2 3 4] [0.25 0.25 0.25 0.25])]
  (<span style="color: #F0DFAF; font-weight: bold;">case</span> e1
    1 (weighted-choose [1 2 3 4] (rotate 0 [0.8 0.1 0.05 0.05]))
    2 (weighted-choose [1 2 3 4] (rotate 1 [0.8 0.1 0.05 0.05]))
    3 (weighted-choose [1 2 3 4] (rotate 2 [0.8 0.1 0.05 0.05]))
    4 (weighted-choose [1 2 3 4] (rotate 3 [0.8 0.1 0.05 0.05])))))
</pre>
</div>
</div></li></ol></li></ol>
</div>

<div id="outline-container-orgheadline41" class="outline-4">
<h4 id="orgheadline41"><span class="section-number-4">2.2.2</span> overtone.algo.fn</h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">

<pre class="src src-clojure">(doc cycle-fn)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgheadline43" class="outline-3">
<h3 id="orgheadline43"><span class="section-number-3">2.3</span> from other clojure libraries</h3>
<div class="outline-text-3" id="text-2-3">
<p>
There was a library in clojure.contrib for working with probability,
namely the .probabilities.finite-distributions library by Konrad
Hinsen, which became largely deprecated with the move away from
.contrib. 
</p>

<p>
It makes heavy use of monands, and the contrib.monands library, which
poses some problems of usability for the average user.
</p>

<div class="org-src-container">

<pre class="src src-clojure">(dir <span style="color: #7CB8BB;">post_tonal_overtone.probability_functions.finite-distributions</span>)
bernoulli
binomial
certainly
choose
cond-dist-m
cond-prob
dist-m
join-with
make-distribution
normalize
normalize-cond
prob
select
uniform
zipf
<span style="color: #BFEBBF;">nil</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgheadline46" class="outline-2">
<h2 id="orgheadline46"><span class="section-number-2">3</span> divisions and subdivisions</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-orgheadline45" class="outline-3">
<h3 id="orgheadline45"><span class="section-number-3">3.1</span> messing around with numbers</h3>
<div class="outline-text-3" id="text-3-1">
<div class="org-src-container">

<pre class="src src-clojure">(repeat 4 1)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-clojure">(<span style="color: #F0DFAF; font-weight: bold;">for</span> [n (range 4 -1 -1)]
  (repeat n n))
</pre>
</div>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">4/3</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>

<p>
(= 4 (* 3 n)
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-right">1</td>
<td class="org-right">64</td>
</tr>

<tr>
<td class="org-right">2</td>
<td class="org-right">32</td>
</tr>

<tr>
<td class="org-right">3</td>
<td class="org-right">64/3</td>
</tr>

<tr>
<td class="org-right">4</td>
<td class="org-right">16</td>
</tr>

<tr>
<td class="org-right">5</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: b</p>
<p class="date">Created: 2016-12-02 Fri 15:22</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
